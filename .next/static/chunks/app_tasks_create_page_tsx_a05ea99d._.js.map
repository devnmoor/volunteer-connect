{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/noramoor/Downloads/Programming/Applications/Volunteer%20Connect/volunteer-connect/app/tasks/create/page.tsx"],"sourcesContent":["// app/tasks/create/page.tsx\n'use client';\n\nimport { useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { collection, addDoc, serverTimestamp } from 'firebase/firestore';\nimport { db, auth } from '@/app/lib/firebase/config';\nimport Link from 'next/link';\n\nconst CreateTaskPage = () => {\n  const router = useRouter();\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n  const [category, setCategory] = useState('communityService');\n  const [locationType, setLocationType] = useState('remote');\n  const [estimatedTime, setEstimatedTime] = useState(30);\n  const [address, setAddress] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  \n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!title.trim() || !description.trim()) {\n      setError('Please fill in all required fields');\n      return;\n    }\n    \n    try {\n      setLoading(true);\n      setError('');\n      \n      const user = auth.currentUser;\n      if (!user) {\n        throw new Error('You must be logged in to create a task');\n      }\n      \n      // Create location object\n      const location: any = {};\n      if (locationType === 'inPerson' && address) {\n        location.address = address;\n        // In a real app, you'd geocode the address to get coordinates\n        // For now, just add some placeholder coordinates\n        location.coordinates = {\n          latitude: 0,\n          longitude: 0\n        };\n      }\n      \n      // Create the task\n      const taskData = {\n        title,\n        description,\n        category,\n        locationType,\n        estimatedTime: parseInt(estimatedTime.toString()),\n        location: Object.keys(location).length > 0 ? location : null,\n        createdBy: user.uid,\n        assignedTo: user.uid, // Assign to the user who created it\n        isAssigned: true,     // Mark as assigned\n        isCustom: true,       // Mark as custom task\n        status: 'open',       // Initial status is open\n        completedBy: [],      // No one has completed it yet\n        createdAt: serverTimestamp(),\n        updatedAt: serverTimestamp()\n      };\n      \n      // Add to Firestore\n      await addDoc(collection(db, 'tasks'), taskData);\n      \n      // Navigate back to dashboard\n      router.push('/dashboard');\n      \n    } catch (err: any) {\n      console.error('Error creating task:', err);\n      setError(err.message || 'Failed to create task');\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"container mx-auto p-4 max-w-2xl\">\n        {/* Back button */}\n        <div className=\"mb-4\">\n          <Link href=\"/dashboard\" className=\"text-green-600 hover:text-green-700 flex items-center\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-1\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\n            </svg>\n            Back to Dashboard\n          </Link>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow-md p-6\">\n          <h1 className=\"text-2xl font-bold text-gray-900 mb-6\">Create Custom Volunteer Task</h1>\n          \n          {error && (\n            <div className=\"mb-4 p-3 bg-red-100 text-red-700 rounded-md\">\n              {error}\n            </div>\n          )}\n          \n          <form onSubmit={handleSubmit}>\n            <div className=\"mb-4\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Task Title*\n              </label>\n              <input\n                type=\"text\"\n                value={title}\n                onChange={(e) => setTitle(e.target.value)}\n                className=\"w-full px-3 py-2 border rounded-md\"\n                placeholder=\"Give your task a clear, descriptive title\"\n                required\n              />\n            </div>\n            \n            <div className=\"mb-4\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Description*\n              </label>\n              <textarea\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n                className=\"w-full px-3 py-2 border rounded-md h-32\"\n                placeholder=\"Describe what this volunteer task involves...\"\n                required\n              />\n            </div>\n            \n            <div className=\"mb-4\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Category\n              </label>\n              <select\n                value={category}\n                onChange={(e) => setCategory(e.target.value)}\n                className=\"w-full px-3 py-2 border rounded-md\"\n              >\n                <option value=\"communityService\">Community Service</option>\n                <option value=\"environmentalAction\">Environmental Action</option>\n                <option value=\"educationYouthSupport\">Education & Youth Support</option>\n                <option value=\"healthWellness\">Health & Wellness</option>\n              </select>\n            </div>\n            \n            <div className=\"mb-4\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Location Type\n              </label>\n              <select\n                value={locationType}\n                onChange={(e) => setLocationType(e.target.value)}\n                className=\"w-full px-3 py-2 border rounded-md\"\n              >\n                <option value=\"remote\">Do from home</option>\n                <option value=\"inPerson\">In-person</option>\n                <option value=\"virtual\">Virtual meeting</option>\n              </select>\n            </div>\n            \n            {locationType === 'inPerson' && (\n              <div className=\"mb-4\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Address / Location\n                </label>\n                <input\n                  type=\"text\"\n                  value={address}\n                  onChange={(e) => setAddress(e.target.value)}\n                  className=\"w-full px-3 py-2 border rounded-md\"\n                  placeholder=\"Enter the address or location\"\n                />\n              </div>\n            )}\n            \n            <div className=\"mb-6\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Estimated Time (minutes)\n              </label>\n              <input\n                type=\"number\"\n                value={estimatedTime}\n                onChange={(e) => setEstimatedTime(parseInt(e.target.value))}\n                min={5}\n                max={480}\n                className=\"w-full px-3 py-2 border rounded-md\"\n              />\n            </div>\n            \n            <div className=\"flex justify-end space-x-3\">\n              <button\n                type=\"button\"\n                onClick={() => router.back()}\n                className=\"px-4 py-2 border rounded-md text-gray-600 hover:bg-gray-50\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className={`px-4 py-2 ${loading ? 'bg-gray-400' : 'bg-green-600 hover:bg-green-700'} text-white rounded-md flex items-center`}\n              >\n                {loading ? (\n                  <>\n                    <span className=\"animate-spin h-4 w-4 mr-2 border-t-2 border-b-2 border-white rounded-full\"></span>\n                    Creating...\n                  </>\n                ) : (\n                  'Create Task'\n                )}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CreateTaskPage;"],"names":[],"mappings":"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","debugId":null}}]
}